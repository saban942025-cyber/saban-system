// 住祝 转  专砖 住拽专驻
import { SabanBrain } from './services/saban-brain.js';

// 祝 转 驻拽爪 拽转 砖:
window.searchWeb = async () => {
    const q = document.getElementById('aiSearchInput').value;
    if(!q) return alert("拽 砖 爪专");

    const container = document.getElementById('aiResults');
    container.innerHTML = '<div class="text-center py-10"><i class="fas fa-spinner fa-spin text-3xl text-blue-500"></i><br> 砖 住 住专拽 转 专砖转...</div>';
    document.getElementById('aiModal').style.display = 'flex';

    // 拽专 !
    const productData = await SabanBrain.searchProductInfo(q);

    if (productData) {
        // 爪转 转爪 
        container.innerHTML = `
            <div class="ai-card bg-green-50 border-green-500" onclick='window.importItem(${JSON.stringify(productData)})'>
                <div class="ai-badge bg-green-600">爪 注" Gemini</div>
                <img src="${productData.img}" class="w-24 h-24 object-contain bg-white rounded border">
                <div>
                    <div class="font-bold text-lg text-slate-800">${productData.name}</div>
                    <div class="text-xs text-gray-500 mb-2">${productData.desc}</div>
                    <div class="flex gap-2 mb-2">
                        <span class="text-[10px] bg-white border px-2 rounded">锔 ${productData.specs.weight}</span>
                        <span class="text-[10px] bg-white border px-2 rounded"> ${productData.specs.cover}</span>
                    </div>
                    <div class="text-green-700 font-bold text-sm">抓  注专转 <i class="fas fa-check"></i></div>
                </div>
            </div>
        `;
    } else {
        container.innerHTML = '<div class="text-center text-red-500"> 爪 注. 住 砖 专.</div>';
    }
};
