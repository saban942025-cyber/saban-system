<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saban Catalog Studio Pro ğŸ’</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Windows 11 Glass Theme */
        body { background: linear-gradient(135deg, #eef2ff 0%, #f8fafc 100%); font-family: system-ui; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        .glass-panel {
            background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.6); border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.05); display: flex; flex-direction: column; overflow: hidden;
        }

        /* Layout */
        .layout { display: grid; grid-template-columns: 280px 1fr 380px; gap: 20px; padding: 20px; height: 100%; }
        
        /* Tabs */
        .nav-btn { text-align: right; padding: 12px 16px; margin-bottom: 5px; border-radius: 12px; font-weight: 600; color: #64748b; cursor: pointer; transition: 0.2s; display: flex; items-center; gap: 10px; }
        .nav-btn:hover { background: rgba(255,255,255,0.5); }
        .nav-btn.active { background: white; color: #2563eb; box-shadow: 0 4px 10px rgba(37, 99, 235, 0.1); }

        /* Product Card Style (Preview) */
        .preview-card {
            background: white; border-radius: 16px; overflow: hidden; position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08); border: 1px solid #f1f5f9;
        }
        .badge-sale {
            position: absolute; top: 10px; right: 10px; background: #ef4444; color: white;
            font-weight: 800; font-size: 12px; padding: 4px 10px; border-radius: 20px;
            box-shadow: 0 4px 10px rgba(239, 68, 68, 0.3); z-index: 10;
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* Stock Indicators */
        .stock-pill { font-size: 10px; padding: 2px 8px; border-radius: 4px; font-weight: bold; }
        .stock-harash { background: #dcfce7; color: #166534; }
        .stock-talmid { background: #dbeafe; color: #1e40af; }
        .stock-missing { background: #fee2e2; color: #991b1b; text-decoration: line-through; opacity: 0.5; }

        /* Popup Preview */
        .popup-preview {
            position: absolute; inset: 20px; background: rgba(0,0,0,0.6); border-radius: 20px;
            display: flex; align-items: center; justify-content: center; z-index: 50; backdrop-filter: blur(4px);
        }
        .popup-content {
            background: white; padding: 20px; border-radius: 20px; text-align: center; width: 80%;
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    </style>
</head>
<body>

    <header class="h-16 flex items-center justify-between px-8 shrink-0 z-20 bg-white/50 backdrop-blur border-b border-white">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white text-xl shadow-lg">ğŸ›ï¸</div>
            <div>
                <h1 class="font-bold text-lg text-slate-800">Saban Catalog Pro</h1>
                <div class="text-[10px] text-indigo-500 font-bold uppercase tracking-wide">××¢×¨×›×ª × ×™×”×•×œ ×—× ×•×ª</div>
            </div>
        </div>
        <button onclick="saveAll()" class="bg-indigo-600 hover:bg-indigo-500 text-white px-6 py-2 rounded-xl font-bold shadow-lg transition active:scale-95">
            <i class="fas fa-save"></i> ×©××•×¨ ×©×™× ×•×™×™×
        </button>
    </header>

    <div class="layout">
        
        <div class="glass-panel p-4">
            <div class="text-xs font-bold text-slate-400 uppercase mb-4 px-2">×ª×¤×¨×™×˜ × ×™×”×•×œ</div>
            <div onclick="setTab('create')" class="nav-btn active" id="btn-create"><i class="fas fa-plus-circle"></i> ×”×•×¡×¤×ª ××•×¦×¨ ×—×“×©</div>
            <div onclick="setTab('edit')" class="nav-btn" id="btn-edit"><i class="fas fa-edit"></i> ×¢×¨×™×›×ª ××œ××™ ×§×™×™×</div>
            <div onclick="setTab('promo')" class="nav-btn" id="btn-promo"><i class="fas fa-bullhorn text-red-500"></i> ××‘×¦×¢×™× ×•×¤×•×¤-××¤</div>
        </div>

        <div class="glass-panel p-6 overflow-y-auto custom-scroll relative">
            
            <div id="tab-create" class="space-y-4">
                <h2 class="text-xl font-bold text-slate-700 mb-4">×”×•×¡×¤×ª ××•×¦×¨ ×œ×§×˜×œ×•×’</h2>
                <button onclick="openGoogleSearch()" class="w-full py-3 bg-white border border-blue-200 rounded-xl text-blue-600 font-bold shadow-sm hover:bg-blue-50 flex items-center justify-center gap-2 mb-4">
                    <i class="fab fa-google"></i> ××©×•×š × ×ª×•× ×™× ××•×˜×•××˜×™×ª ××”×¨×©×ª
                </button>

                <div class="grid grid-cols-2 gap-4">
                    <div><label class="text-xs font-bold text-slate-400">×©× ××•×¦×¨</label><input id="inpName" class="w-full p-3 rounded-xl border bg-white/50 font-bold" oninput="updatePreview()"></div>
                    <div><label class="text-xs font-bold text-slate-400">××§"×˜</label><input id="inpSku" class="w-full p-3 rounded-xl border bg-white/50 font-mono text-sm" oninput="updatePreview()"></div>
                </div>
                
                <div class="grid grid-cols-2 gap-4">
                    <div><label class="text-xs font-bold text-slate-400">××—×™×¨ (â‚ª)</label><input id="inpPrice" type="number" class="w-full p-3 rounded-xl border bg-white/50 text-green-600 font-bold" oninput="updatePreview()"></div>
                    
                    <div>
                        <label class="text-xs font-bold text-slate-400">×–××™× ×•×ª ×‘××—×¡×Ÿ</label>
                        <select id="inpStock" class="w-full p-3 rounded-xl border bg-white/50" onchange="updatePreview()">
                            <option value="both">âœ… ×”×—×¨×© + ×”×ª×œ××™×“</option>
                            <option value="harash">ğŸ“ ×”×—×¨×© ×‘×œ×‘×“</option>
                            <option value="talmid">ğŸ“ ×”×ª×œ××™×“ ×‘×œ×‘×“</option>
                        </select>
                    </div>
                </div>

                <div class="bg-indigo-50 p-4 rounded-xl border border-indigo-100 mt-4">
                    <div class="text-sm font-bold text-indigo-800 mb-2 flex items-center gap-2"><i class="fas fa-robot"></i> × ×ª×•× ×™× ×œ×‘×•×˜</div>
                    <div class="grid grid-cols-2 gap-4">
                        <input id="inpDry" class="p-2 rounded border text-sm" placeholder="×–××Ÿ ×™×™×‘×•×© (×œ××©×œ: 24 ×©×¢×•×ª)">
                        <input id="inpMethod" class="p-2 rounded border text-sm" placeholder="×©×™×˜×ª ×™×™×©×•× (×œ××©×œ: ×¨×•×œ×¨)">
                    </div>
                </div>
            </div>

            <div id="tab-edit" class="hidden space-y-4">
                <h2 class="text-xl font-bold text-slate-700 mb-4">× ×™×”×•×œ ××œ××™ ×§×™×™×</h2>
                <div class="relative">
                    <i class="fas fa-search absolute right-3 top-3 text-slate-400"></i>
                    <input type="text" placeholder="×—×¤×© ××•×¦×¨ ×œ×¢×¨×™×›×”..." class="w-full p-3 pr-10 rounded-xl border bg-white shadow-sm">
                </div>
                <div id="existingList" class="space-y-2 mt-4">
                    <div class="bg-white p-3 rounded-xl border flex justify-between items-center hover:bg-slate-50 cursor-pointer">
                        <div class="flex items-center gap-3">
                            <img src="https://via.placeholder.com/40" class="w-10 h-10 rounded bg-slate-100 object-contain">
                            <div>
                                <div class="font-bold text-sm">×¡×™×§×” ×˜×•×¤×¡×™×œ 107</div>
                                <div class="text-[10px] text-slate-500">××§"×˜: SK-107 | ××œ××™: ×”×—×¨×©</div>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <button class="text-blue-600 bg-blue-50 p-2 rounded-lg hover:bg-blue-100"><i class="fas fa-pencil-alt"></i></button>
                            <button class="text-red-600 bg-red-50 p-2 rounded-lg hover:bg-red-100"><i class="fas fa-trash"></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab-promo" class="hidden space-y-6">
                <h2 class="text-xl font-bold text-slate-700 mb-2">×× ×•×¢ ××‘×¦×¢×™× ×•×©×™×•×•×§</h2>
                
                <div class="bg-red-50 p-5 rounded-2xl border border-red-100 relative overflow-hidden">
                    <div class="absolute -right-10 -top-10 w-32 h-32 bg-red-200 rounded-full opacity-20"></div>
                    
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-bold text-red-800"><i class="fas fa-tags"></i> ×”×’×“×¨×ª ××‘×¦×¢ ×—×</h3>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" id="toggleSale" class="sr-only peer" onchange="updatePreview()">
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-500"></div>
                        </label>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="text-xs font-bold text-red-400">××—×•×– ×”× ×—×”</label>
                            <input id="salePercent" type="number" value="20" class="w-full p-2 rounded border border-red-200 text-red-600 font-bold" oninput="updatePreview()">
                        </div>
                        <div>
                            <label class="text-xs font-bold text-red-400">×˜×§×¡×˜ ×ª×•×•×™×ª</label>
                            <input id="saleLabel" type="text" value="××‘×¦×¢ ×§×™×¥!" class="w-full p-2 rounded border border-red-200" oninput="updatePreview()">
                        </div>
                    </div>
                </div>

                <div class="bg-slate-50 p-5 rounded-2xl border border-slate-200">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold text-slate-700"><i class="fas fa-stopwatch"></i> ×¤×•×¤-××¤ "××œ ×ª×¤×¡×¤×¡"</h3>
                        <button onclick="togglePopupPreview()" class="text-xs bg-slate-200 px-2 py-1 rounded hover:bg-slate-300">×”×¦×’ ×¡×™××•×œ×¦×™×”</button>
                    </div>
                    <p class="text-xs text-slate-500 mb-3">×™×•×¤×™×¢ ×œ-3 ×©× ×™×•×ª ×‘×›× ×™×¡×” ×œ×§×˜×œ×•×’</p>
                    <textarea class="w-full p-3 border rounded-xl h-20 text-sm" placeholder="×¨×§ ×”×™×•×! ×§× ×” ×‘×œ×” ×¡×•××¡×•× ×•×§×‘×œ ×©×§ ××œ×˜ ××ª× ×”..."></textarea>
                </div>
            </div>

        </div>

        <div class="glass-panel flex flex-col items-center justify-center bg-slate-100/50 p-6 relative">
            <h3 class="absolute top-4 font-bold text-slate-400 text-xs uppercase tracking-widest">×ª×¦×•×’×ª ×œ×§×•×— (Live)</h3>
            
            <div class="bg-white border-8 border-slate-800 rounded-[40px] w-[300px] h-[600px] overflow-hidden shadow-2xl relative flex flex-col">
                <div class="bg-slate-50 flex-1 relative overflow-y-auto p-4">
                    
                    <div class="bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-4 text-white mb-6 shadow-lg">
                        <div class="font-bold text-lg">××‘×¦×¢×™ ×”×©×‘×•×¢ ğŸ”¥</div>
                        <div class="text-xs opacity-80">×‘×œ×¢×“×™ ×‘××¤×œ×™×§×¦×™×”</div>
                    </div>

                    <div class="preview-card">
                        <div id="prevBadge" class="badge-sale hidden">20% ×”× ×—×”</div>
                        
                        <div class="h-40 bg-white flex items-center justify-center p-4">
                            <img src="https://via.placeholder.com/150" class="h-full object-contain">
                        </div>

                        <div class="p-4 bg-white border-t border-slate-100">
                            <div class="flex justify-between items-start mb-1">
                                <div>
                                    <div class="font-bold text-slate-800 leading-tight" id="prevName">×©× ××•×¦×¨</div>
                                    <div class="text-[10px] text-slate-400 font-mono mt-1" id="prevSku">SKU-000</div>
                                </div>
                                <div class="text-right">
                                    <div class="font-bold text-green-600 text-lg" id="prevPrice">â‚ª0</div>
                                    <div class="text-[10px] text-red-400 line-through hidden" id="prevOldPrice">â‚ª0</div>
                                </div>
                            </div>

                            <div class="flex gap-1 mt-3" id="prevStock">
                                <span class="stock-pill stock-harash">âœ” ×”×—×¨×©</span>
                                <span class="stock-pill stock-talmid">âœ” ×”×ª×œ××™×“</span>
                            </div>

                            <div class="mt-4 grid grid-cols-2 gap-2">
                                <button class="bg-slate-100 text-slate-600 text-xs font-bold py-2 rounded-lg">××™×¡×•×£ ×¢×¦××™</button>
                                <button class="bg-blue-600 text-white text-xs font-bold py-2 rounded-lg">×”×•×¡×£ ×œ×¢×’×œ×”</button>
                            </div>
                        </div>
                    </div>

                    <div id="simPopup" class="popup-preview hidden">
                        <div class="popup-content">
                            <div class="text-3xl mb-2">ğŸ</div>
                            <div class="font-bold text-lg text-slate-800">××‘×¦×¢ ×‘×–×§!</div>
                            <div class="text-sm text-slate-500 mb-4">20% ×”× ×—×” ×¢×œ ×›×œ ××•×¦×¨×™ ×”××™×˜×•×</div>
                            <button onclick="togglePopupPreview()" class="bg-red-500 text-white w-full py-2 rounded-lg font-bold text-sm">×× ×™ ×¨×•×¦×”!</button>
                        </div>
                    </div>

                </div>
                
                <div class="bg-white p-3 border-t flex justify-around text-2xl text-slate-300">
                    <i class="fas fa-home text-blue-500"></i>
                    <i class="fas fa-shopping-cart"></i>
                    <i class="fas fa-user"></i>
                </div>
            </div>
        </div>

    </div>

    <script>
        // --- Tab Logic ---
        function setTab(tab) {
            document.querySelectorAll('[id^="tab-"]').forEach(el => el.classList.add('hidden'));
            document.getElementById(`tab-${tab}`).classList.remove('hidden');
            
            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
            document.getElementById(`btn-${tab}`).classList.add('active');
        }

        // --- Preview Logic (The Engine) ---
        function updatePreview() {
            // Get Data
            const name = document.getElementById('inpName').value || '×©× ××•×¦×¨ ×œ×“×•×’××”';
            const sku = document.getElementById('inpSku').value || 'SKU-000';
            const price = document.getElementById('inpPrice').value || 0;
            const stock = document.getElementById('inpStock').value;
            
            const isSale = document.getElementById('toggleSale').checked;
            const salePct = document.getElementById('salePercent').value;
            const saleLbl = document.getElementById('saleLabel').value;

            // Update DOM
            document.getElementById('prevName').innerText = name;
            document.getElementById('prevSku').innerText = sku;
            
            // Price Logic
            if(isSale) {
                const discounted = (price * (1 - salePct/100)).toFixed(0);
                document.getElementById('prevPrice').innerText = `â‚ª${discounted}`;
                document.getElementById('prevOldPrice').innerText = `â‚ª${price}`;
                document.getElementById('prevOldPrice').classList.remove('hidden');
                
                const badge = document.getElementById('prevBadge');
                badge.innerText = `${salePct}% - ${saleLbl}`;
                badge.classList.remove('hidden');
            } else {
                document.getElementById('prevPrice').innerText = `â‚ª${price}`;
                document.getElementById('prevOldPrice').classList.add('hidden');
                document.getElementById('prevBadge').classList.add('hidden');
            }

            // Stock Logic
            const stockDiv = document.getElementById('prevStock');
            if (stock === 'both') {
                stockDiv.innerHTML = `<span class="stock-pill stock-harash">âœ” ×”×—×¨×©</span><span class="stock-pill stock-talmid">âœ” ×”×ª×œ××™×“</span>`;
            } else if (stock === 'harash') {
                stockDiv.innerHTML = `<span class="stock-pill stock-harash">âœ” ×”×—×¨×©</span><span class="stock-pill stock-missing">âœ– ×”×ª×œ××™×“</span>`;
            } else {
                stockDiv.innerHTML = `<span class="stock-pill stock-missing">âœ– ×”×—×¨×©</span><span class="stock-pill stock-talmid">âœ” ×”×ª×œ××™×“</span>`;
            }
        }

        // --- Popup Sim ---
        function togglePopupPreview() {
            const p = document.getElementById('simPopup');
            p.classList.toggle('hidden');
        }

        // --- Mock Functions ---
        function openGoogleSearch() { alert("×¤×•×ª×— ×× ×•×¢ ×—×™×¤×•×© ×’×•×’×œ (×›×¤×™ ×©×”×•×’×“×¨ ×‘×’×¨×¡×” ×”×§×•×“××ª)"); }
        function saveAll() { alert("×›×œ ×”×©×™× ×•×™×™×, ×›×•×œ×œ ×”××‘×¦×¢×™× ×•×”××œ××™, × ×©××¨×• ×‘×”×¦×œ×—×”! ğŸ’¾"); }

        // Init
        updatePreview();
    </script>
</body>
</html>
