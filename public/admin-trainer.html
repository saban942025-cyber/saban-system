<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>SabanOS | Brain Studio ğŸ§ </title>
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body { background-color: #1e293b; color: white; font-family: system-ui, -apple-system, sans-serif; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        
        /* Layout Grid */
        .studio-grid { display: grid; grid-template-columns: 300px 1fr 380px; height: 100%; }
        
        /* Panels */
        .panel { border-left: 1px solid #334155; display: flex; flex-direction: column; }
        .panel-header { padding: 15px; border-bottom: 1px solid #334155; font-weight: bold; display: flex; justify-content: space-between; align-items: center; background: #0f172a; }
        .panel-content { flex: 1; overflow-y: auto; padding: 15px; }

        /* Missed Questions */
        .missed-item { background: #334155; padding: 10px; margin-bottom: 10px; border-radius: 8px; cursor: pointer; border-right: 4px solid #ef4444; transition: 0.2s; }
        .missed-item:hover { background: #475569; }

        /* Knowledge Cards */
        .brain-card { background: #fff; color: #1e293b; padding: 15px; border-radius: 8px; margin-bottom: 10px; position: relative; }
        .tag { background: #e2e8f0; px-2 py-1; border-radius: 4px; font-size: 11px; font-weight: bold; color: #64748b; display: inline-block; margin-bottom: 5px; }
        
        /* Simulator Phone */
        .phone-frame { 
            background: #fff; border-radius: 30px; border: 8px solid #000; 
            height: 95%; width: 320px; margin: 0 auto; overflow: hidden; position: relative; 
            display: flex; flex-direction: column; box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }
        .phone-header { background: #4f46e5; color: white; padding: 15px; text-align: center; font-size: 14px; font-weight: bold; }
        .phone-screen { flex: 1; background: #eef2ff; overflow-y: auto; padding: 10px; display: flex; flex-direction: column; gap: 10px; }
        .phone-input-area { padding: 10px; background: #fff; border-top: 1px solid #eee; display: flex; gap: 5px; }
        
        /* Chat Bubbles */
        .sim-msg { padding: 8px 12px; border-radius: 12px; font-size: 13px; max-width: 85%; width: fit-content; color: #333; }
        .sim-in { background: #fff; align-self: flex-start; border-top-right-radius: 0; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .sim-out { background: #dbeafe; align-self: flex-end; border-top-left-radius: 0; color: #1e40af; }
        
        /* Video Embed */
        .sim-video { width: 100%; height: 150px; background: black; border-radius: 8px; margin-top: 5px; display: flex; align-items: center; justify-content: center; color: white; cursor: pointer; }
    </style>
</head>
<body>

    <header class="h-16 bg-slate-900 border-b border-slate-700 flex items-center justify-between px-6">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-indigo-600 rounded-full flex items-center justify-center text-xl">ğŸ§ </div>
            <div>
                <h1 class="font-bold text-lg">Saban Brain Studio</h1>
                <div class="text-xs text-slate-400">×§×•× ×¡×•×œ×ª ××™××•×Ÿ ×œ×‘×•×˜ (v1.0)</div>
            </div>
        </div>
        <div class="flex gap-3">
            <button class="bg-slate-700 hover:bg-slate-600 px-4 py-2 rounded text-sm transition">ğŸ“Š ×“×•×— ×‘×™×¦×•×¢×™×</button>
            <button onclick="saveBrain()" class="bg-green-600 hover:bg-green-500 px-6 py-2 rounded font-bold transition shadow-lg pulse-btn">ğŸ’¾ ×©××•×¨ ××•×—</button>
        </div>
    </header>

    <div class="studio-grid">
        
        <div class="panel bg-slate-800">
            <div class="panel-header">
                <span>âš ï¸ ×©××œ×•×ª ×©× ×›×©×œ×• (×”×™×•×)</span>
                <span class="bg-red-500 text-xs px-2 py-1 rounded-full">3</span>
            </div>
            <div class="panel-content">
                <div class="text-xs text-slate-400 mb-4">×œ×—×¥ ×¢×œ ×©××œ×” ×›×“×™ ×œ×œ××“ ××ª ×”×‘×•×˜:</div>
                
                <div class="missed-item" onclick="teachBot('×–××Ÿ ×™×™×‘×•×©', '×¡×™×§×” 603')">
                    <div class="font-bold text-sm">"×›××” ×–××Ÿ ××ª×™×™×‘×© ×”-603?"</div>
                    <div class="text-xs text-slate-400 mt-1">×œ×§×•×—: ×©×—×¨ | ×”×§×©×¨: ×¡×™×§×”</div>
                </div>

                <div class="missed-item" onclick="teachBot('×”×—×–×¨×•×ª', '×›×œ×œ×™')">
                    <div class="font-bold text-sm">"××¤×©×¨ ×œ×”×—×–×™×¨ ×©×§ ×¤×ª×•×—?"</div>
                    <div class="text-xs text-slate-400 mt-1">×œ×§×•×—: ×× ×•× ×™××™ | ×”×§×©×¨: ×›×œ×œ×™</div>
                </div>

                <div class="missed-item" onclick="teachBot('×ª×§×Ÿ ××§×•×¡×˜×™', '×‘×œ×•×§×™×')">
                    <div class="font-bold text-sm">"×”×‘×œ×•×§ ×¢×•××“ ×‘×ª×§×Ÿ ××œ×•× ×•×ª?"</div>
                    <div class="text-xs text-slate-400 mt-1">×œ×§×•×—: ×™×•×¡×™ ×§×‘×œ×Ÿ</div>
                </div>
            </div>
        </div>

        <div class="panel bg-slate-900">
            <div class="panel-header">
                <span>ğŸ“ ×¢×•×¨×š ×”×™×“×¢</span>
                <button onclick="addNewRule()" class="text-green-400 hover:text-green-300"><i class="fas fa-plus"></i> ×”×•×¡×£ ×›×œ×œ</button>
            </div>
            <div class="panel-content space-y-4" id="knowledgeBase">
                
                <div class="brain-card group">
                    <div class="flex justify-between">
                        <span class="tag">××•×¦×¨: ×¡×™×§×” 107/603</span>
                        <button class="text-gray-400 hover:text-red-500"><i class="fas fa-trash"></i></button>
                    </div>
                    <div class="mb-2">
                        <label class="text-xs text-gray-500 font-bold">××™×œ×•×ª ××¤×ª×—:</label>
                        <input type="text" value="××™×˜×•×, ×××‘×˜×™×”, ×¨×˜×™×‘×•×ª, ×‘×¨×™×›×”" class="w-full bg-gray-50 border p-1 rounded text-sm mt-1">
                    </div>
                    <div class="mb-2">
                        <label class="text-xs text-gray-500 font-bold">×ª×©×•×‘×ª ×”×‘×•×˜:</label>
                        <textarea class="w-full bg-gray-50 border p-2 rounded text-sm mt-1 h-20">×œ××™×˜×•× ×—×“×¨×™× ×¨×˜×•×‘×™× ×× ×™ ×××œ×™×¥ ×¢×œ ×¡×™×§×” 107. ×™×© ×œ×™×™×©× ×‘×©×ª×™ ×©×›×‘×•×ª ×©×ª×™ ×•×¢×¨×‘. ğŸ›¡ï¸</textarea>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label class="text-xs text-gray-500 font-bold">×•×™×“××• (YouTube ID):</label>
                            <input type="text" value="xyz123" class="w-full bg-gray-50 border p-1 rounded text-sm">
                        </div>
                        <div>
                            <label class="text-xs text-gray-500 font-bold">×§×™×©×•×¨ ×œ×§×˜×œ×•×’:</label>
                            <input type="text" value="××•×¦×¨_102" class="w-full bg-gray-50 border p-1 rounded text-sm">
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <div class="panel bg-slate-800 items-center justify-center p-6">
            <div class="text-center mb-4">
                <h3 class="font-bold">ğŸ“± ×¡×™××•×œ×˜×•×¨ ×—×™</h3>
                <p class="text-xs text-slate-400">×‘×“×•×§ ××™×š ×”×œ×§×•×— ×¨×•××” ××ª ×”×ª×©×•×‘×”</p>
            </div>
            
            <div class="phone-frame">
                <div class="phone-header">ğŸ¤– ×¦'××˜-×¡×‘×Ÿ (××¦×‘ ×˜×¡×˜)</div>
                <div class="phone-screen" id="simScreen">
                    <div class="sim-msg sim-in">××”×œ×Ÿ! ×× ×™ ×”××•×— ×”×—×“×©. ğŸ§ <br>×ª× ×¡×” ××•×ª×™... ×©××œ ×¢×œ "××™×˜×•×" ××• "×‘×œ×•×§×™×".</div>
                </div>
                <div class="phone-input-area">
                    <input type="text" id="simInput" placeholder="×”×§×œ×“ ×”×•×“×¢×”..." class="flex-1 text-sm outline-none text-black" onkeydown="if(event.key==='Enter') runSim()">
                    <button onclick="runSim()" class="text-indigo-600 font-bold"><i class="fas fa-paper-plane"></i></button>
                </div>
            </div>
            
            <div class="mt-4 flex gap-2">
                <button onclick="clearSim()" class="text-xs bg-slate-700 px-3 py-1 rounded">× ×§×” ××¡×š</button>
                <button onclick="document.getElementById('simInput').value='×›××” ×–××Ÿ ××ª×™×™×‘×© 603?'; runSim()" class="text-xs bg-indigo-700 px-3 py-1 rounded">×“×•×’××”: ×™×™×‘×•×© 603</button>
            </div>
        </div>

    </div>

    <script>
        // --- ×œ×•×’×™×§×ª ×”×¡×˜×•×“×™×• (Brain Logic) ---
        
        // 1. ×”×•×¡×¤×ª ×™×“×¢ ×—×“×© (××ª×•×š ×¨×©×™××ª ×”×©×’×™××•×ª)
        function teachBot(concept, context) {
            const container = document.getElementById('knowledgeBase');
            const card = document.createElement('div');
            card.className = "brain-card border-l-4 border-green-500 animation-fade-in";
            card.innerHTML = `
                <div class="flex justify-between">
                    <span class="tag bg-green-100 text-green-700">×—×“×©: ${context}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="text-gray-400 hover:text-red-500"><i class="fas fa-trash"></i></button>
                </div>
                <div class="mb-2">
                    <label class="text-xs text-gray-500 font-bold">××™×œ×•×ª ××¤×ª×—:</label>
                    <input type="text" value="${concept}" class="w-full bg-green-50 border border-green-200 p-1 rounded text-sm mt-1 focus:ring-2 focus:ring-green-500">
                </div>
                <div class="mb-2">
                    <label class="text-xs text-gray-500 font-bold">×ª×©×•×‘×ª ×”×‘×•×˜:</label>
                    <textarea class="w-full bg-white border p-2 rounded text-sm mt-1 h-20" placeholder="×›×ª×•×‘ ×›××Ÿ ××” ×”×‘×•×˜ ×¦×¨×™×š ×œ×¢× ×•×ª..."></textarea>
                </div>
                <div class="flex gap-2">
                    <input type="text" placeholder="×§×™×©×•×¨ ×œ×•×™×“××•" class="w-1/2 bg-gray-50 border p-1 rounded text-sm">
                    <input type="text" placeholder="×§×™×©×•×¨ ×œ××•×¦×¨" class="w-1/2 bg-gray-50 border p-1 rounded text-sm">
                </div>
            `;
            container.prepend(card);
        }

        // 2. ×× ×•×¢ ×”×¡×™××•×œ×¦×™×” (×“××• ×©×œ ×”×‘×•×˜ ×”×××™×ª×™)
        function runSim() {
            const input = document.getElementById('simInput');
            const txt = input.value;
            if(!txt) return;
            
            // ×”×¦×’×ª ×”×•×“×¢×ª ×”××©×ª××©
            addSimMsg(txt, 'out');
            input.value = '';

            // ×—×™×§×•×™ "×—×©×™×‘×”"
            setTimeout(() => {
                const response = getSimResponse(txt);
                addSimMsg(response.text, 'in');
                
                // ×× ×™×© ×•×™×“××•
                if(response.video) {
                    const vidDiv = document.createElement('div');
                    vidDiv.className = 'sim-video';
                    vidDiv.innerHTML = '<i class="fab fa-youtube text-4xl text-red-500"></i>';
                    document.getElementById('simScreen').appendChild(vidDiv);
                }
            }, 600);
        }

        function addSimMsg(text, type) {
            const div = document.createElement('div');
            div.className = `sim-msg sim-${type}`;
            div.innerHTML = text;
            const screen = document.getElementById('simScreen');
            screen.appendChild(div);
            screen.scrollTop = screen.scrollHeight;
        }

        function clearSim() {
            document.getElementById('simScreen').innerHTML = '<div class="sim-msg sim-in">× ×•×§×”. ××•×›×Ÿ ×œ×‘×“×™×§×”! ğŸ§ª</div>';
        }

        // ×”××•×— ×”××§×•××™ ×œ×¡×™××•×œ×¦×™×” (×‘×¤×•×¢×œ ×™×’×™×¢ ××”×©×¨×ª)
        function getSimResponse(q) {
            q = q.toLowerCase();
            if(q.includes('603') || q.includes('×™×™×‘×•×©')) {
                return { 
                    text: "×œ×’×‘×™ ×¡×™×§×” 603: ×–××Ÿ ×”×™×™×‘×•×© ×”××•××œ×¥ ×”×•× 24 ×©×¢×•×ª ×‘×™×Ÿ ×©×›×‘×•×ª. ğŸ•’\n××¦××ª×™ ×œ×š ×¡×¨×˜×•×Ÿ ×”×“×¨×›×”:",
                    video: true 
                };
            }
            if(q.includes('×‘×œ×•×§') || q.includes('××§×•×¡×˜×™')) {
                return { text: "×›×Ÿ, ×”×‘×œ×•×§×™× ×©×œ× ×• ×¢×•××“×™× ×‘×ª×§×Ÿ 45 ×“×¦×™×‘×œ (××ª××™× ×œ××œ×•× ××•×ª). ğŸ¨" };
            }
            if(q.includes('×”×—×–×¨×•×ª') || q.includes('×©×§ ×¤×ª×•×—')) {
                return { text: "××¦×˜×¢×¨, ×œ× × ×™×ª×Ÿ ×œ×”×—×–×™×¨ ×©×§×™× ×¤×ª×•×—×™× ×‘×’×œ×œ ×¨×’×™×©×•×ª ×œ×œ×—×•×ª. ×¨×§ ×©×§×™× ×¡×’×•×¨×™× ×•×ª×§×™× ×™×. âŒ" };
            }
            // Fallback
            return { text: "×‘×•×“×§ ×œ×š... ğŸ¤” (×–×” ×™×¢×‘×•×¨ ×œ×¨×××™ ×‘×—×\"×œ)" };
        }

        function saveBrain() {
            const btn = document.querySelector('.bg-green-600');
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i> ×©×•××¨...';
            setTimeout(() => {
                btn.innerHTML = '<i class="fas fa-check"></i> × ×©××¨ ×‘×”×¦×œ×—×”!';
                setTimeout(() => btn.innerHTML = originalText, 2000);
            }, 1000);
        }

        function addNewRule() {
            teachBot("", "×›×œ×œ×™");
        }
    </script>
</body>
</html>
